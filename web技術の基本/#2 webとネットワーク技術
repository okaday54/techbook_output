01  webを実現するコンピューターネットワーク

コンピューターネットワーク
PC同士がお互いに接続して情報のやりとりをする仕組み

ネットワーク上で情報やサービスを提供する役割を持つコンピューター
→ サーバー

サーバーから提供された情報やサービスを利用する役割を持つコンピューター
→ クライアント

webサイトを提供するサーバーをwebサーバーと呼ぶ

・インターネット接続にはプロバイダーが必要
プロバイダー同士が接続することで世界中が１つのネットワークとして成立。


プロバイダーは階層構造
IXインターネットエクスチェンジ  ISP同士を接続する拠点、直接接続する必要がなく回線が少なくすみ、経路制御もしやすい
一次ISP
二次ISP 上位ISPを経由
三次ISP
LAN 家庭


02 インターネットの標準プロトコル
プロトコル
機器同士が通信するときの決められたルールと手順
HTTPなど

TCP/IP transmisson contorl protocol / internet protocol
プロトコルの集まりのこと
インターネットに接続可能な機器はすべて対応している。スマホなど
昔は、同一のOS、同一の機種しか無理だった

役割ごとに階層化されている
HTTPだけでは足りない部分をTCP/IP（他のプロトコル）が補完している

【プロトコル種類】
HTTP：webブラウザとサーバー
FTP：PC間でのファイルのやりとり
SMTP：電子メール送信用
POP：メール受信用

03 TCP/IP
役割ごとに4つのレイヤーに分かれている

レイヤー４
アプリケーション層
HTTP,SMTP,FTPなど
データの変換など


レイヤー３
トランスポート層
TCP,UDP、データの分割や品質保証
TCP→保証あり。コネクション型。送信側と受信側で確認をとる。webサイトやメールで利用
UDP→保証なし。コネクションレス型。受信の確認をとらず送信し続ける。動画のストリーミングで利用

レイヤー２
インターネット層
IP,ICMPなど、ネットワーク間の通信を規定

レイヤー１
ネットワークインターフェース層
イーサネット、Wi-Fiなど
コネクタ形状や周波数といったハードウェアに関する規定


04 IPアドレスとポート番号
IPアドレス
コンピューターを特定、データの行き先管理
IPアドレスは１つ＝住所のようなもの
32ビット、IPv4、１０進数で表記
192. 168. 1. 1

グローバルIP：ネットでの利用、ICANN管理
プライベートIP:LAN内での利用、個人・会社で自由
電話番号でいう、外線と内線のイメージ

ポート番号
PCの何を起動するかを特定する

コンピューター→マンション
IPアドレス→住所
ポート番号→部屋番号

ポート番号は「０〜６５５３５」まで
アプリケーションにによっては独自に決めることができる
一般的にwebサーバー(HTTP)であれば80番など決まっている。
番号でサービスを識別できる。

０〜１０２３：ウェルノウンポート、一般的なサーバーソフトウェアで使用
１０２４〜４９１５１：レジスタードポート、メーカー独自
４９１５２〜６５５３５：ダイナミックポート、クライアント側でランダム、自由に使用

※６５５３５までの範囲で用途が決められている

05 URLとドメイン
http://example.com:80/test.html

１スキーム名：プロトコルを指定
２ホスト名：接続先のドメイン名
３ポート番号：接続先のサーバーの指定。通常は省略される。決まっているため。
例）http:80 https:443 ffp:20(データ転送),21(制御用)
※ffp→ファイル転送で使用するプロトコル
４パス名：ディレクトリやファイルの指定

FQDN(ホスト名＋ドメイン名)完全修飾ドメイン
ドメイン：ネットワークを特定
ホスト：コンピューターを識別
▷ホスト＋ドメインで特定

例) www.exmaple.com ▷ホストwww
    ffp.example.com ▷ホストffp

06 DNS
ドメインをIPアドレスに変換する仕組み▷DNS
DNSはドメインとIPアドレスが紐付いて管理されている

DNSサーバー ▷ ツリー構造
①DNSキャッシュサーバー
②DNSルートサーバー
③.jp、.comのサーバー
④example.jpのサーバー,xxxx.jpのサーバー
最終
www.example.jpのipアドレス→ xx.xxx.xxx.xxxと判明する

07 HTTP
クライアントとサーバーのやり取り
①アドレス欄にURL入力、リンクをクリック
②URLに基づいてwebサーバーにデータを要求
③ブラウザうから受け取った要求内容を解析
④解析結果をブラウザに返答
⑤返ってきたデータをブラウザが表示

②③④がコンテンツの送受信部分でHTTPなどが利用される

EX IPv4とIPv6
ipv6だと一人あたり４．８穣個割り当てることができる。
プライベートIPなどで節約できたがスマホの登場でIPv4は枯渇待ったなしの状態

