概要

サーバーとは
ユーザーからのリクエストを受けてレスポンスを返すハードウェアのこと
ITインフラの要

(サーバの種類)
ラックマウント型
データセンターや社内サーバのラックに設置

タワー型
オフィスや店舗
静音サーバを用いることもできる。

サーバの特徴
①冷却と騒音対策が必要
②重い
数kg〜数十kgのものがる。
高密度に設置する場合床面の耐荷重に注意

区分
・エントリーサーバー
数十万円。webサーバーなど。ソケット単位で1or2個のCPU搭載可能

・ミドルレンジサーバ
数百万円。データベースや基幹系。ソケット単位で4個以上のCPUが搭載可能

・ハイエンドサーバ
数千万円〜数億円。データベースや基幹系。ソケット単位で数十個のCPUが搭載可能

IAサーバ
インテル互換CPUを搭載、パソコンと同様のアーキテクチャをベースにして製造されたサーバのこと

エンタープライズサーバ
基幹系に使われるサーバ

##サーバの選定
インフラ構築を考える際、無数にある選択肢を減らし、ポイントを絞って吟味。

サーバ要件
必要なハードウェアリソースの使用量を決め、RAID有無、PSU(パワーサプライユニット)冗長化要否、保守の年数、保守レベル、拡張性、物理サイズや重量を併せて決めていく。

サーバ要件を決める要素
CPU
メモリ
ディスク
RAID
NIC
PSU
保守年数
保守レベル
拡張性
物理サイズ
重量

サーバスペックを決める考え方
①実際の環境を試験的に構築し、測定結果から判断する
②仮決めしたサーバスペック機器を本番投入し、実際のハードウェアリソース利用状況を測定した上でサーバやサーバのパーツを増減していく。
③消去法でスペックを絞り込んでいく


サーバのキャパシティ向上のアプローチ
スケールアウト
台数を増やしていく

スケールアップ
性能を上げていく

国内で入手可能なサーバの主要ベンダー
DELL
NEC
日本HP
日本IBM
日本オラクル
日本ユニシス
日立製作所
富士通

CPU
性能を良くする、動作周波数を上げると消費電力も大きくなる。
これ以上の、性能アップは消費電力が大きくなるデメリットのほうが大きい

マルチコア、マルチスレッド、といった手法を用いて同時に処理できる数を増やし性能アップを図る

性能 = 演算能力
性能を上げる = 動作周波数を上げる

CPU用語
ソケット数：物理的なCPUの搭載数
動作周波数：1秒間に刻むクロックの数。高いと処理が速くなるが、電力効率が悪くなり発熱が増える。
コア：主要演算回路のこと。コアの数だけ同時に演算ができる。
キャッシュ：頻繁にアクセスするデータを置き、低速なメインメモリへのアクセスを減らしCPUの処理性能を上げる

ハイパースレッディング
OS上で１つのコアを2つのCPUに見せる技術(intel社の用語)

ターボブーストテクノロジー
仕事をしていないコアを使って、仕事をしているコアをクロックアップさせる技術(intel社の用語)

CPU選定のポイント
パフォーマンス
求める演算能力を満たすかどうか

コア数
複数のOSを動かす場合、コア数を多いCPUを選定
バッチプログラムなど、シングルプロセスソフトウェアの場合は１つのコアしか使われないため、コア数が多いCPUに変えても意味がない

ソケット数
コア数の多いCPUに変更する他に、物理的なCPUを複数個搭載する方法もある
８コア１ソケットと、４コア２ソケットでは、後者のほうが遅くなる場合がある。
NUMAが原因。別のCPUのメモリにアクセスする場合は低速になってしまうため。

価格対比
消費電力
使うソフトウェアのライセンス体系
CPUのコア数やソケット数によって価格が変わるソフトウェアがある


