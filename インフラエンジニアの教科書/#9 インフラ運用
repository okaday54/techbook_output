概要
インフラ運用には、障害検知と対応、キャパシティ最適化、障害予防などのテーマがある

障害対応
ハードウェアはいつか必ず壊れるとうい考え方の下で、
極力サービスを止めないようにするにはの方向で進化している。

監視ソリューションが重要なツール。不可欠。
あらゆる障害パターンを確実に検知されるよう厳密に設定していく

ボトルネックを解消
局所的な問題にとらわれず、システム全体の観点から検討する

よくあるもの
・コアスイッチのキャパシティ
・L2スイッチのキャパシティ
・Webサーバのメモリ不足
・データベースサーバのCPUやメモリ不足
・データベースサーバのディスクI/O

よく起こるネットワーク機器のボトルネックを解消する
・各ポートの物理インターフェースの速度にトラフィックが収まっているか
【調べ方】
1Gbpsのインタフェースであれば実際のIn/OUTトラフィックがそれぞれ1Gbps未満で収まっているか

【対策】
サーバを分散してトラフィックを分散
インターフェースを高速なものに置き換える(1Gbps→10Gbps)

・ネットワーク機器の転送能力に限界はないか
【調べ方】
パケットドロップが発生していないか
転送能力不足を示すようなログが残っていないか

【対策】
上位機種に入れ替え
可能であればキャッシュメモリ追加

・サーバ機器のボトルネックを解消する
【調べ方】
各サーバのレスポンスタイムを定期的に取得し極端な低下がないか
ユーザーサポートにレスポンス関連の問い合わせがないか

【対策】
フロントサーバの問題か、データベースなどバックエンドサーバの問題かを特定

ハードウェアリソースが異常に多く使われていればバックエンドを疑う
特定したら、原因を判断。
・ハードウェアリソースの不足
・アプリケーション側の問題
・ハードウェアの故障

MSP(managed service provider)
ITインフラの運用管理の代行
インフラ運用を自社で行えない場合委託する
業者の選び方
・企業としての信頼性
→価格だけでなく、コンプライアンス、財務状況を確認
・コミニュケーション力
→技術リーダーと話しをしておく

・柔軟性
・技術力
・費用対効果

MNP業者利用のコスト
運用は構築よりもコストがかかる場合がある
人件費、教育費用、福利厚生費、有給休暇など自社で雇う場合と比較、
外注費用として済ませるかを決める。

ファームウェア
ハードウェアを制御するプログラム
性能や安定性に大きく影響する
(使われている場所)
・サーバ本体BIOS
・RAIDボード/HBAボード
・ハードディスク/SSD
・ネットワーク機器本体
・ストレージ本体

ファームウェアのバージョンとレベル
最新ファームウェアにバージョンアップするかどうかの判断をインフラエンジニアがする。
推奨Recommended
必要Required
必須Critical
併記されてるレベルを参考にする。

バージョンアップの要否を判断する考え方
①最新ファームウェアには既知のバグフィックスがすべて適用されているので安全
②最新ファームウェアには新たなバグが含まれている可能性があるのでむしろ危ない
どちらの考えも正しいので適時判断という運用をする。


